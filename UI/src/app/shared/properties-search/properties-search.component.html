<div *ngIf="!vertical">
<!-- <mat-tab-group dynamicHeight *ngIf="!vertical"> -->
    <!-- <mat-tab label="جستجوی معمولی"> -->
        <form [formGroup]="form" class="search-wrapper" [ngClass]="'variant-'+variant">

            <div [fxLayout]="(vertical) ? 'column' : 'row wrap'"> 
                <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
                    <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                        <mat-label style="font-family: 'Vazir FD';">جستجو</mat-label>
                        <input style="font-family: 'Vazir FD';" matInput placeholder="متن جستجو" autocomplete="off" formControlName="searchBox">                  
                    </mat-form-field>
                </div>
                <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
                    <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                        <mat-label style="font-family: 'Vazir FD';">نوع فایل</mat-label> 
                        <mat-select style="font-family: 'Vazir FD';" placeholder="لطفا نوع فایل را انتخاب کنید" formControlName="fileType">
                            <mat-option *ngFor="let fileType of allFileTypes" [value]="fileType">
                                {{fileType.label}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
                    <mat-form-field *ngIf="!vertical" [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                        <mat-label style="font-family: 'Vazir FD';">شاخه ها</mat-label>
                        <mat-select style="font-family: 'Vazir FD';" placeholder="لطفا شاخه های مورد نظر خود را انتخاب کنید" formControlName="categoriesBox" multiple>
                            <mat-option *ngFor="let category of (categories | async)" [value]="category">
                                {{category.name}}
                            </mat-option>
                        </mat-select>                   
                          
                    </mat-form-field>
                </div>
                <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
                    <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                        <mat-label style="font-family: 'Vazir FD';">تولید کنندگان</mat-label>
                        <mat-select style="font-family: 'Vazir FD';" placeholder="لطفا تولید کنندگان مورد نظر خود را از لیست انتخاب کنید" formControlName="brandsBox" multiple>
                            <mat-option *ngFor="let brand of (brands | async)" [value]="brand">
                                {{brand.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                
                <div fxFlex="100" fxFlex.gt-sm="12" fxFlex.sm="50" class="p-2">
                    <button  mat-raised-button color="primary" style="margin-top: 0.625rem; font-family: 'Vazir FD';" class="search-btn mx-1" (click)="search()"> جستجو <mat-icon>search</mat-icon></button>
                </div>
            </div>        
        </form>
    <!-- </mat-tab> -->
    <!-- <mat-tab label="جستجوی تصویر" >
        <form [formGroup]="imageSearchForm" class="search-padding">
            <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2">
                <mat-form-field *ngIf="!vertical" [appearance]="getAppearance()" [floatLabel]="getFloatLabel()">
                    <mat-label>شاخه ها</mat-label>
                    <mat-select placeholder="لطفا شاخه های مورد نظر خود را انتخاب کنید" formControlName="categoriesBox" multiple>
                        <mat-option *ngFor="let category of (categories | async)" [value]="category">
                            {{category.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <app-categories *ngIf="vertical"  formControlName="categoriesBoxNested"></app-categories>
            </div>
            <div cdkDrop style="width: 80%">
                <div class="drop" >
                <div class="cont">
                  <div class="browse">
                    تصویر مورد نظر خود را بارگذاری کنید
                  </div>
                  <div class="desc">
                    کلیک کنید
                  </div>
                </div>
                <input type="file" id="files"  (change)="detectFiles($event)" accept="image/*">
                <img [src]="url | safeHtml">
              </div>
              <div fxFlex="100" fxFlex.gt-sm="12" fxFlex.sm="50" class="p-2">
                <button  mat-raised-button color="primary" class="search-btn mx-1" (click)="search()"> جستجو <mat-icon>search</mat-icon></button>
            </div>
            </div>
        </form>
        
    </mat-tab> -->
  <!-- </mat-tab-group> -->
</div>
  <form [formGroup]="verticalForm" class="search-wrapper " [ngClass]="'variant-'+variant" *ngIf="vertical">

    <div [fxLayout]="(vertical) ? 'column' : 'row wrap'">
        <!-- <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2">
            <input-file placeholder="تصویر" (deletedFile)="imageDeleted($event)" (acceptedFile)="imageSelected($event)" formControlName="imageToSearch" fileLimit="1" fileAccept="image/*" ></input-file> 
        </div> -->
        
        <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
            <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                <mat-label style="font-family: 'Vazir FD';">جستجو</mat-label>
                <input style="font-family: 'Vazir FD';" matInput placeholder="متن جستجو" autocomplete="off" formControlName="searchBox" >                  
            </mat-form-field>
        </div>
        <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
            <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                <mat-label style="font-family: 'Vazir FD';">نوع فایل</mat-label> 
                <mat-select style="font-family: 'Vazir FD';" placeholder="لطفا نوع فایل را انتخاب کنید" formControlName="fileType">
                    <mat-option *ngFor="let fileType of allFileTypes" [value]="fileType">
                        {{fileType.label}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <!-- Select Categories Section -->
        <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2 sidebar-categories-tree-filter-box" style="width: 100%">
            <app-categories (categories)="getCategories($event)"  (CategoryChange)="categoryChanged($event)" [selectedIdList]="[selectedIdList]" name="categoriesBoxNested" formControlName="categoriesBoxNested"></app-categories>
        </div>
        
        <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
            <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                <mat-label style="font-family: 'Vazir FD';">تولید کنندگان</mat-label>
                <mat-select style="font-family: 'Vazir FD';" [disabled]="disableSelect.value" (selectionChange)="brandsChanged($event)" placeholder="لطفا تولید کنندگان مورد نظر خود را از لیست انتخاب کنید" formControlName="brandsBox" multiple>
                    <mat-option *ngFor="let brand of brands" [value]="brand">
                        {{brand.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div fxFlex="100" fxFlex.gt-sm="22" fxFlex.sm="50" class="p-2" style="width: 100%">
            <mat-form-field [appearance]="getAppearance()" [floatLabel]="getFloatLabel()" style="width: 100%">
                <mat-label style="font-family: 'Vazir FD';">مجموعه ها</mat-label>
                <mat-select style="font-family: 'Vazir FD';" (selectionChange)="brandCollectionsChanged($event)" placeholder="لطفا مجموعه مورد نظر خود را از لیست انتخاب کنید" formControlName="brandCollectionBox" multiple>
                    <mat-option *ngFor="let coll of brandCollections" [value]="coll">
                        {{coll.title}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        
    </div>
</form>
