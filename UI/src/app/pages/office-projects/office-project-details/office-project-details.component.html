<div class="px-3">
    <div class="theme-container">

        <mat-sidenav-container class="single-property mt-3">
            <mat-sidenav #sidenav [opened]="sidenavOpen" cdkLayout.sm="row"  cdkLayout.xs="row" mode="side" position="end" autoFocus="false" style="width:309px">

                <div #stickyCard>

                    <div class="widget office-widget-wrapper">
                        <mat-card class="mat-elevation-z0 brand-background" >
                            <div style="padding: 1rem;">
                                <img mat-card-image class="office-image-size main-image" style="height: auto;
                                width: 100%;"
                                src="https://orchard.kheshtin.ir{{project?.designOffice.contentItems[0]?.logo.urls[0]}}"
                                [alt]="project?.designOffice.contentItems[0]?.displayText "/>
                                <br/>
                                <a [routerLink]="['/designoffices', project?.designOffice.contentItems[0]?.contentItemId,0,1, project?.designOffice.contentItems[0]?.displayText]"
                                    class="fw-600 office-title">{{project?.designOffice.contentItems[0]?.displayText }}</a>
                            </div>
                            
                                    <mat-divider></mat-divider>
                            <mat-card-content>
                                <div style="direction: ltr; padding: 1rem;">
                                    
                                <p class="mt-3">{{project?.designOffice.contentItems[0]?.address}}</p>
                                
                                <p cdkLayoutAlign="start center">
                                    <mat-icon style="color:#666666">email</mat-icon>
                                    <span
                                        class="mx-2">{{project?.designOffice.contentItems[0]?.email}}</span>
                                </p>
                                <p cdkLayoutAlign="start center">
                                    <mat-icon style="color:#666666">call</mat-icon>
                                    <span
                                        class="mx-2">{{project?.designOffice.contentItems[0]?.phone}}</span>
                                </p>
                                <div cdkLayout="row" cdkLayoutAlign="start center" class="text-muted">
                                    <div cdkLayout="row" cdkLayoutAlign="start" [ngStyle]="{ 'min-width': !(appSettings.isMobile | async) ? '16.3rem' : '' }">
                                        <a [href]="'https://www.linkedin.com/'+ project?.designOffice.contentItems[0]?.linkedin" target="blank" class="social-icon"> 
                                          <svg class="mat-icon" width="25px" height="25px" viewBox="-50 -50 700 700" class="social-icon">
                                            <path fill="#5C5B5B" d=" M 287.80 0.00 L 312.08 0.00 C 349.99 1.70 387.65 10.23 422.29 25.79 C 465.69 45.13 504.32 74.98 534.05 112.03 C 556.88 140.38 574.49 172.94 585.66 207.59 C 594.10 233.51 598.69 260.60 600.00 287.81 L 600.00 311.55 C 598.40 349.88 589.71 387.95 573.91 422.95 C 545.53 486.46 494.31 539.40 431.72 569.78 C 394.36 588.18 353.08 598.29 311.50 600.00 L 287.92 600.00 C 246.54 598.16 205.44 588.12 168.26 569.77 C 139.75 555.88 113.49 537.38 90.79 515.24 C 45.64 471.61 14.81 413.43 4.26 351.52 C 1.92 338.30 0.70 324.91 0.00 311.51 L 0.00 287.94 C 0.57 279.59 1.04 271.22 2.13 262.92 C 7.88 215.56 25.28 169.69 52.30 130.38 C 81.35 87.97 121.44 53.14 167.64 30.54 C 204.95 12.01 246.23 1.88 287.80 0.00 M 146.59 110.76 C 137.75 112.37 129.32 116.60 123.04 123.06 C 113.01 132.65 108.19 147.17 109.84 160.88 C 110.95 171.32 115.79 181.36 123.43 188.59 C 133.20 198.18 147.57 202.69 161.09 200.79 C 175.86 198.95 189.26 189.12 195.77 175.77 C 200.51 166.40 201.75 155.34 199.31 145.13 C 196.30 131.86 186.81 120.34 174.56 114.51 C 165.97 110.25 156.00 109.04 146.59 110.76 M 358.94 233.60 C 344.11 238.99 330.84 248.84 321.85 261.84 C 320.25 264.04 319.14 266.57 317.35 268.64 C 317.13 257.18 317.30 245.72 317.26 234.26 C 292.40 234.20 267.55 234.30 242.70 234.21 C 243.37 243.10 242.82 252.05 243.00 260.96 C 243.00 335.72 243.00 410.49 243.00 485.25 C 268.92 485.25 294.84 485.26 320.75 485.25 C 320.75 444.84 320.77 404.44 320.74 364.04 C 321.00 350.79 321.15 337.25 325.42 324.55 C 328.33 315.53 333.95 307.05 342.31 302.27 C 352.15 296.65 364.05 295.58 375.11 297.11 C 384.95 298.44 394.09 304.35 398.87 313.13 C 406.26 326.45 406.53 342.16 407.00 357.00 C 407.01 399.50 406.98 442.01 407.02 484.51 C 432.93 484.49 458.84 484.51 484.75 484.50 C 484.76 447.65 484.75 410.80 484.75 373.95 C 484.60 347.99 485.93 321.72 480.52 296.14 C 476.92 278.59 469.77 260.96 456.31 248.66 C 442.81 235.93 424.21 230.33 406.09 228.67 C 390.27 227.16 373.92 227.95 358.94 233.60 M 115.75 234.25 C 115.74 317.66 115.75 401.08 115.75 484.49 C 141.67 484.51 167.58 484.50 193.50 484.50 C 193.51 401.08 193.50 317.67 193.50 234.25 C 167.59 234.24 141.67 234.25 115.75 234.25 Z" />
                                          </svg>
                                        </a>
                                        <a [href]="'https://twitter.com/'+ project?.designOffice.contentItems[0]?.twitter"  target="blank" class="social-icon">
                                          <svg class="mat-icon" width="25px" height="25px" viewBox="0 0 230 230" class="social-icon">
                                            <path fill="#5C5B5B" d=" M 96.60 21.84 C 115.74 18.70 135.82 21.30 153.43 29.50 C 174.74 39.30 192.28 57.03 201.72 78.50 C 211.59 100.46 212.84 126.10 205.20 148.93 C 198.15 170.43 183.30 189.25 164.05 201.14 C 148.29 211.05 129.60 216.18 110.99 215.77 C 86.65 215.63 62.63 205.68 45.10 188.84 C 29.63 174.16 19.15 154.27 16.01 133.16 C 12.05 108.43 18.19 82.27 32.72 61.87 C 47.56 40.73 71.07 25.90 96.60 21.84 M 128.10 75.83 C 116.99 79.94 110.00 92.88 113.11 104.38 C 93.47 103.50 74.81 93.73 62.23 78.74 C 55.70 89.59 59.32 104.80 69.91 111.70 C 66.02 111.20 62.17 110.30 58.68 108.45 C 58.43 119.97 67.05 130.68 78.31 133.03 C 74.68 133.76 70.96 134.02 67.31 133.29 C 70.39 143.15 80.05 150.50 90.42 150.56 C 80.12 158.49 66.89 162.02 53.98 160.76 C 68.65 170.26 86.94 173.79 104.13 170.79 C 119.60 168.40 134.11 160.33 144.26 148.41 C 156.08 134.71 162.56 116.49 161.86 98.40 C 166.75 95.00 170.84 90.56 174.15 85.64 C 169.61 87.67 164.75 88.78 159.88 89.71 C 164.99 86.50 168.98 81.62 170.89 75.87 C 165.96 78.65 160.69 80.87 155.10 81.87 C 148.36 74.72 137.25 72.00 128.10 75.83 Z" />
                                          </svg> 
                                        </a>
                                        <!-- <a href="https://instagram.com/" target="blank" class="social-icon"> 
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" class="mat-icon" viewBox="-50 -50 600 600" [ngClass]="['mat-icon-' + iconSize, 'mat-'+ iconColor]">
                                            <path fill="#5C5B5B" d=" M 251.58 0.00 L 260.30 0.00 C 299.27 0.86 338.10 10.32 372.74 28.28 C 427.30 56.18 471.20 104.31 493.76 161.31 C 505.31 189.96 511.24 220.75 512.00 251.61 L 512.00 260.35 C 511.18 302.79 499.91 345.05 478.85 381.95 C 460.14 415.08 433.92 443.93 402.73 465.73 C 361.33 494.96 311.06 511.10 260.42 512.00 L 251.70 512.00 C 204.40 511.15 157.36 497.12 117.64 471.35 C 93.10 455.59 71.29 435.59 53.46 412.50 C 28.13 379.86 10.90 340.97 3.86 300.24 C 1.47 287.10 0.46 273.75 0.00 260.41 L 0.00 251.71 C 0.55 230.49 3.31 209.29 8.97 188.81 C 19.17 151.00 38.34 115.67 64.32 86.38 C 88.69 58.81 119.07 36.57 152.75 21.74 C 183.79 7.93 217.64 0.74 251.58 0.00 M 136.35 91.54 C 117.68 91.70 99.96 104.48 94.11 122.22 C 91.43 129.50 91.37 137.38 91.44 145.04 C 91.44 219.04 91.44 293.04 91.44 367.05 C 91.40 373.83 91.38 380.79 93.35 387.35 C 97.36 401.99 109.31 414.16 123.87 418.41 C 129.03 420.16 134.54 420.41 139.95 420.57 C 217.95 420.53 295.97 420.60 373.97 420.53 C 387.64 420.58 401.32 414.61 409.92 403.88 C 417.26 395.42 420.59 384.12 420.56 373.04 C 420.56 295.03 420.56 217.03 420.56 139.02 C 420.63 127.65 417.06 116.06 409.40 107.50 C 400.58 96.85 386.72 91.22 373.02 91.44 C 294.13 91.51 215.23 91.30 136.35 91.54 Z" />
                                            <path fill="#5C5B5B" d=" M 130.47 110.62 C 133.58 109.87 136.79 109.73 139.97 109.71 C 217.99 109.74 296.00 109.68 374.02 109.74 C 384.10 109.50 394.10 115.08 398.85 124.03 C 401.81 129.17 402.41 135.21 402.30 141.03 C 402.25 218.70 402.32 296.36 402.26 374.02 C 402.48 383.86 397.20 393.63 388.59 398.50 C 383.92 401.31 378.40 402.32 373.00 402.28 C 294.69 402.27 216.38 402.31 138.07 402.26 C 129.63 402.41 121.17 398.71 115.90 392.07 C 111.48 386.77 109.56 379.79 109.72 372.96 C 109.73 294.67 109.69 216.36 109.74 138.07 C 109.26 125.55 118.23 113.47 130.47 110.62 M 350.52 128.75 C 343.61 130.31 337.40 134.66 333.57 140.62 C 326.94 150.61 328.05 164.90 336.23 173.69 C 343.79 182.40 357.10 185.24 367.59 180.46 C 380.12 175.26 387.05 159.92 382.61 147.08 C 378.71 133.89 363.87 125.42 350.52 128.75 M 246.07 165.16 C 221.51 167.74 198.31 180.82 183.42 200.52 C 170.21 217.58 163.52 239.50 164.79 261.02 C 165.84 281.82 174.34 302.15 188.43 317.49 C 204.08 334.86 226.65 345.75 249.99 347.16 C 268.97 348.42 288.34 343.60 304.43 333.43 C 321.88 322.55 335.49 305.60 342.22 286.16 C 349.04 266.85 349.07 245.22 342.27 225.90 C 335.48 206.17 321.60 189.01 303.80 178.13 C 286.72 167.52 266.04 163.00 246.07 165.16 Z" />
                                            <path fill="#5C5B5B" d=" M 352.42 147.38 C 358.27 144.06 366.29 149.23 365.60 155.94 C 365.53 162.54 357.29 166.79 351.83 163.13 C 345.93 159.86 346.31 150.21 352.42 147.38 Z" />
                                            <path fill="#5C5B5B" d=" M 245.56 183.67 C 260.60 181.48 276.31 184.11 289.78 191.16 C 303.18 198.13 314.32 209.38 321.16 222.85 C 328.21 236.63 330.65 252.70 328.10 267.96 C 325.59 283.61 317.72 298.31 306.17 309.15 C 295.20 319.58 280.89 326.43 265.88 328.41 C 251.01 330.46 235.52 327.80 222.22 320.84 C 209.02 313.97 198.01 302.96 191.15 289.75 C 184.00 276.09 181.40 260.12 183.77 244.89 C 185.97 230.11 192.92 216.09 203.31 205.35 C 214.45 193.68 229.57 185.89 245.56 183.67 Z" />  
                                          </svg>
                                        </a> -->
                                        <a [href]="'https://www.facebook.com/'+ project?.designOffice.contentItems[0]?.facebook" target="blank" class="social-icon">
                                          <svg class="mat-icon" width="25px" height="25px" viewBox="0 0 24 24" class="social-icon">
                                            <path fill="#5C5B5B" d="M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"/>
                                          </svg>
                                        </a>
                                        <a [href]="project?.designOffice.contentItems[0]?.website.url" target="blank" class="social-icon">
                                            <svg class="mat-icon" style="color:#666666" width="25px" height="25px" viewBox="0 0 24 24">
                                                <path
                                                    d="M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z" />
                                            </svg>
                                        </a>
                                      </div>

                                    

                                    
                                </div>
                                </div>
                                
                            </mat-card-content>
                            
                            <div cdkLayoutAlign="center center" *ngIf="project?.designOffice.contentItems[0]" style="background-color: #D9D9D9; height:50px;border-radius: 0 0 4px 4px;">

                                <div style="width:100%;  text-align: center;">
                                    <a [routerLink]="['/designoffices', project?.designOffice.contentItems[0]?.contentItemId,0,1, project?.designOffice.contentItems[0]?.displayText]"
                                        color="basic" class="uppercase" style="text-decoration: none; color: #5C5B5B">جزئیات دفتر طراحی</a>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                    <br/>
                    <div class="widget office-widget-wrapper" *ngIf="(project)?.brandList.contentItems && (project)?.brandList.contentItems.length > 0">
                        <mat-card class="mat-elevation-z0 brand-background" >
                            <div cdkLayoutAlign="center center" *ngIf="project?.designOffice.contentItems[0]" style="background-color: #D7792A; height:50px;     border-radius: 4px 4px 0 0;">

                                <div style="width:100%;  text-align: center;">
                                    <span style="text-decoration: none; color: #FFFFFF"> برندها</span>
                                </div>
                            </div>
                            <div style="padding: 1rem;">
                                <div [cdkFlex]="50" style="text-align: center;" *ngFor="let brand of (project)?.brandList.contentItems">
                                    <a [routerLink]="['/brands', brand.contentItemId,0,1, brand.displayText]">
                                        <img mat-card-image   style="height: 73px; 
                                        width: auto;"
                                        src="https://orchard.kheshtin.ir{{brand.cardImage.urls[0]}}"
                                        [alt]="brand.displayText "/>
                                    </a>
                                    
                                </div>
                               
                            </div>
                            
                            
                            
                        </mat-card>
                    </div>
                </div>
            </mat-sidenav>
            <mat-sidenav-content ngClass.gt-sm="distance">
                <mat-card class="mat-elevation-z0"  style="padding:1rem;">

                    <div cdkLayout="row" cdkLayout.xs="column" cdkLayoutAlign="space-between center">
                        <div>
                            <h2 class="uppercase" ngClass.xs="text-center">{{(project)?.userTitle}}</h2>
                            <p cdkLayout="row" cdkLayoutAlign.xs="center" class="address mb-0">
                                <span>{{(getCategoriesNames())}}</span>
                            </p>
                            <p cdkLayout="row" cdkLayoutAlign.xs="center" class="address mb-0">
                                <span>{{(project)?.mainArchitectures}}</span>
                            </p>
                        </div>
                    </div>
                    <div class="mt-3 main-image-wrapper">
                        <div *ngIf="getOfficeProjectImages(project)?.length > 1 " class="mat-project-top-card-image w-100 m-0">
                            <div class="swiper-container" [swiper]="config" style="border-radius: 5px;">
                                <div class="swiper-wrapper" style="border-radius: 5px;"> 
                                    <div *ngFor="let image of getOfficeProjectImages(project); let i=index" class="swiper-slide" style="border-radius: 5px;">
                                        <img src="https://orchard.kheshtin.ir{{image.image.urls[0] }}" class="swiper-lazy" style="border-radius: 5px; ">
                                       
                                    </div> 
                                </div>  
                                <div class="swiper-pagination white"></div>  
                                <button mat-icon-button class="swiper-button-prev swipe-arrow"><mat-icon class="mat-icon-lg">keyboard_arrow_left</mat-icon></button>
                                <button mat-icon-button class="swiper-button-next swipe-arrow"><mat-icon class="mat-icon-lg">keyboard_arrow_right</mat-icon></button>
                            </div>
                        </div>
                        
                    </div>
                    <div class="mt-3 main-image-wrapper" *ngIf="getOfficeProjectImages(project)?.length === 1 ">
                        <img src="https://orchard.kheshtin.ir{{getOfficeProjectImages(project) ? getOfficeProjectImages(project)[0].image.urls[0]  : ''}}"
                            class="swiper-lazy mw-100 main-image">
                    </div>
    
    
    
                    <div *ngIf="project" class="mt-3">
    
                        <div cdkLayout="row wrap" class="details">
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">عنوان پروژه:</span>
                                <span>{{(project)?.displayText}}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">کاربری:</span>
                                <div cdkLayout="row wrap" class="list">
                                    <span>{{(getCategoriesNames())}}</span>
                                </div>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">گروه طراحی:</span>
                                <span>{{project?.designOffice.contentItems[0]?.displayText }}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">معمار:</span>
                                <span>{{(project)?.mainArchitecture}}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">متراژ:</span>
                                <span>{{(project)?.area}}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">سال ساخت:</span>
                                <span>{{ (project)?.buildingDate    }}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">کارفرما:</span>
                                <span>{{(project)?.employer}}</span>
                            </div>
                            <div cdkFlex="100" cdkFlex.gt-xs="50" cdkLayout="row" class="item">
                                <span class="detail-title">موقعیت:</span>
                                <span>{{(project)?.address}}</span>
                            </div>
    
                        </div>
    
                    </div>
                    <div class="mt-3 blog-text">
                        <div>
                            <p *ngIf="(project)?.description"  [innerHTML]="getImagesWithAbsPath((project)?.description.html)"></p>
                            <div *ngIf="(project)?.extraDescription" [innerHTML]="getImagesWithAbsPath((project)?.extraDescription.html)">
                            </div>
                        </div>
                    </div>
                </mat-card>
                 
                <!-- <div class="mt-3" *ngIf="(project?.productList.contentItems) && (project?.productList.contentItems)?.length > 0">
                    <div cdkLayoutAlign="center center">
                        <div class="uppercase">محصولات به کار رفته</div>
                    </div>
                    <div>
                        <div class="section mt-3">
                            <div class="px-3">
                                <div class="theme-container">
                                    <app-similar-products-carousel [products]="(project?.productList.contentItems)" [slides]="4"
                                        [viewType]="viewType" [viewCol]="viewCol"></app-similar-products-carousel>

                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->




                <!-- <div class="mt-3" cdkLayout="row wrap" cdkLayoutAlign="space-between center"> 
                  <span>شناسه:<span class="fw-500 mx-2">{{project?.projectId}}</span></span>
                  <span>تاریخ ایجاد:<span class="fw-500 mx-2">{{  (changeDateToFa(project?.createDate) | async)}}</span></span>
                 
                 
              </div> -->

                <!-- <app-comments *ngIf="project" [projectId]="project.projectId"></app-comments>   -->

            </mat-sidenav-content>
        </mat-sidenav-container>
        <div class="mt-3">
            <!-- <img  src="../../assets/officeProjects/big/{{(project | async)?.projectId + '_' + (selectedImageId | async) }}.jpg" style="width: 890px" class="swiper-lazy"> -->
        
            
            <ngx-masonry [options]="myOptions">
                <div ngxMasonryItem  class="masonry-item" *ngFor="let image of getOfficeProjectImages(project); let i=index">
                    <img  src="https://orchard.kheshtin.ir{{image.image.urls[0] }}" (click)="open(i)" width="100%">
               </div>
              </ngx-masonry>
        </div>
        <mat-card *ngIf="project" class="mt-3"> 
            <mat-card-header cdkLayoutAlign="start center"> 
                <mat-card-title class="uppercase">تگ </mat-card-title> 
            </mat-card-header>
            <mat-divider   class="devider-margin"></mat-divider>
                  <br/>
                  <mat-chip-listbox aria-label="Hashtag list" style="padding: 10px">
                    <mat-chip *ngFor="let tag of (project)?.hashtagList.contentItems"  (click)="tagClick(tag)" [selectable]="true"
                             >
                      {{tag.displayText}}
                      
                    </mat-chip>
                    
                  </mat-chip-listbox>
            
        </mat-card>
    </div>
</div>
<div class="section mt-3" #delimiter *ngIf="project && project.productList.contentItems.length > 0">
    <div class="px-3">
        <div class="theme-container">
            <h1 class="section-title"> محصولات </h1>
            <app-similar-products-carousel [products]="project.productList.contentItems">
            </app-similar-products-carousel>
        </div>
    </div>
</div> 
<div class="section mt-3" #delimiter *ngIf="relatedOfficeProjects && relatedOfficeProjects.length > 0">
    <div class="px-3">
        <div class="theme-container">
            <h1 class="section-title">پروژه های مشابه</h1>
            <app-similar-office-projects-carousel [officeProjects]="relatedOfficeProjects">
            </app-similar-office-projects-carousel>
        </div>
    </div>
</div>