<div class="p-3">
    <div class="theme-container">

        <mat-sidenav-container class="account">
            <mat-sidenav #sidenav [opened]="sidenavOpen" [mode]="sidenavOpen ? 'side' : 'over'" class="account-sidenav">
                <mat-card > 
                    <button fxHide="false" fxHide.gt-sm mat-mini-fab color="warn" class="close" (click)="sidenav.toggle()">
                        <mat-icon>close</mat-icon>
                    </button>
                    <mat-card-header cdkLayoutAlign="start center" *ngIf="loggedInUser | async">                       
                        <img mat-card-avatar [src]="(loggedInUser | async)?.profilePicture | safeHtml" alt="">
                        <mat-card-title class="text-muted mb-0">{{(loggedInUser | async)?.name + ' ' + (loggedInUser | async)?.lastName}}</mat-card-title> 
                    </mat-card-header>
                    <div class="divider my-3"></div>
                    <div *ngFor="let link of links">
                        <a matLine [routerLink]="link.href" routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}" cdkLayout="row" cdkLayoutAlign="start center" class="p-3">
                            <mat-icon class="text-muted">{{link.icon}}</mat-icon>
                            <span class="mx-2">{{ link.name }}</span>
                        </a>
                    </div>                      
                  </mat-card>  
            </mat-sidenav>
            <mat-sidenav-content ngClass.gt-sm="distance">
              <mat-card *ngIf="!sidenavOpen" cdkLayout="row" cdkLayoutAlign="space-between center" class="text-muted mb-3">
                  <button mat-icon-button (click)="sidenav.toggle()">
                      <mat-icon>more_vert</mat-icon>
                  </button>
                  <h3> My Account</h3>
              </mat-card>              
              <mat-card class="account-wrapper">
                  <router-outlet></router-outlet>
              </mat-card>  
            </mat-sidenav-content>
        </mat-sidenav-container>

    </div>
</div>